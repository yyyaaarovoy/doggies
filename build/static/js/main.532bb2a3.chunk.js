(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{20:function(e,t,n){e.exports={wrapper:"NewTabForm_wrapper__1GKmu",starting:"NewTabForm_starting__2kqTv",main:"NewTabForm_main__2egXd",form:"NewTabForm_form__3ZkEm",description:"NewTabForm_description__1diZT",subtitle:"NewTabForm_subtitle__3MPRF",select:"NewTabForm_select__3MUEJ",button:"NewTabForm_button__3wLBJ",image:"NewTabForm_image__23Deb",submit:"NewTabForm_submit__3BpH0"}},28:function(e,t,n){e.exports={auth:"AuthForm_auth__3PvEt",control:"AuthForm_control__2CVyS",actions:"AuthForm_actions__o3h-e",toggle:"AuthForm_toggle__1ASZ0",error:"AuthForm_error__1WVWw"}},29:function(e,t,n){e.exports={content:"Tab_content__2uqBW",header:"Tab_header__1PFSn",creationDate:"Tab_creationDate__1HFGb",image:"Tab_image__3Hfxq",footer:"Tab_footer__IOFy2",creator:"Tab_creator__3n7Ez"}},34:function(e,t,n){e.exports={starting:"StartingPageContent_starting__3FJ_B",spinner:"StartingPageContent_spinner__3R7ys",main:"StartingPageContent_main__16f2T",button:"StartingPageContent_button__1qeGF"}},39:function(e,t,n){e.exports={profile:"UserProfile_profile__3M2XQ",spinner:"UserProfile_spinner__wOjS6",main:"UserProfile_main__fm8V2"}},42:function(e,t,n){e.exports={header:"MainNavigation_header__-t63z",logo:"MainNavigation_logo__3Xtbr"}},43:function(e,t,n){e.exports={table:"TabsTable_table__3B8zI",noItems:"TabsTable_noItems__XxNVJ"}},49:function(e,t,n){e.exports={wrapper:"LoadingForm_wrapper__2lW0q"}},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var r=n(46),a=n.n(r),c=n(22),s=n(19),i=n(7),o=n.n(i),u=n(11),j=n(0),b=n.n(j),l=n(2),d=n(42),p=n.n(d),O=n(10),f=n(6),h=o.a.createContext({isLoggedIn:void 0,login:function(){},logout:function(){},user:{}}),m=function(e){var t=Object(i.useState)(void 0),n=Object(O.a)(t,2),r=n[0],a=n[1],c=Object(i.useState)({}),s=Object(O.a)(c,2),o=s[0],u=s[1],j={isLoggedIn:r,login:Object(i.useCallback)((function(e){u(e),a(!0)}),[]),logout:Object(i.useCallback)((function(){a(!1)}),[]),user:o};return Object(f.jsx)(h.Provider,{value:j,children:e.children})},x=h,v=function(){var e=Object(l.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(s.b)(),e.next=3,Object(s.e)(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(i.useContext)(x).isLoggedIn,t=function(){var e=Object(l.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("header",{className:p.a.header,children:[Object(f.jsx)(c.b,{to:"/",children:Object(f.jsx)("div",{className:p.a.logo,children:"Doggies"})}),Object(f.jsx)("nav",{children:Object(f.jsxs)("ul",{children:[!e&&Object(f.jsx)("li",{children:Object(f.jsx)(c.b,{to:"/auth",children:"Login"})}),e&&Object(f.jsx)("li",{children:Object(f.jsx)(c.b,{to:"/profile",children:"Profile"})}),e&&Object(f.jsx)("li",{children:Object(f.jsx)("button",{onClick:t,children:"Logout"})})]})})]})},_=function(e){return Object(f.jsxs)(i.Fragment,{children:[Object(f.jsx)(g,{}),Object(f.jsx)("main",{children:e.children})]})},w=n(28),N=n.n(w),y=function(){var e=Object(l.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(s.b)(),e.next=3,Object(s.a)(r,t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(s.b)(),e.next=3,Object(s.d)(r,t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.f)(),t=Object(i.useContext)(x).login,n=Object(i.useRef)(),r=Object(i.useRef)(),a=Object(i.useState)(!0),c=Object(O.a)(a,2),o=c[0],j=c[1],d=Object(i.useState)(!1),p=Object(O.a)(d,2),h=p[0],m=p[1],v=Object(i.useState)(),g=Object(O.a)(v,2),_=g[0],w=g[1],S=function(e){switch(e.code){case"auth/wrong-password":return"Your password is incorrect!";case"auth/user-not-found":return"Account with such email doesn't exist!";case"auth/email-already-in-use":return"Account with such email already exist!";case"auth/weak-password":return"Your password is too weak. Complicate it!";default:return e.message}},F=function(){var n=Object(l.a)(b.a.mark((function n(r,a){var c,i;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!o){n.next=8;break}return n.next=4,k(r,a);case 4:c=Object(s.b)(),Object(s.c)(c,(function(e){e&&t(e)})),n.next=10;break;case 8:return n.next=10,y(r,a);case 10:e("/"),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(0),i=S(n.t0),w(i);case 17:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e,t){return n.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(b.a.mark((function e(t){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=n.current.value,c=r.current.value,m(!0),e.next=6,F(a,c);case 6:m(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("section",{className:N.a.auth,children:[Object(f.jsx)("h1",{children:o?"Login":"Sign Up"}),Object(f.jsxs)("form",{onSubmit:C,children:[Object(f.jsxs)("div",{className:N.a.control,children:[Object(f.jsx)("label",{htmlFor:"email",children:"Your Email"}),Object(f.jsx)("input",{disabled:h,type:"email",id:"email",required:!0,ref:n})]}),Object(f.jsxs)("div",{className:N.a.control,children:[Object(f.jsx)("label",{htmlFor:"password",children:"Your Password"}),Object(f.jsx)("input",{disabled:h,type:"password",id:"password",min:"6",required:!0,ref:r}),_&&!h&&Object(f.jsx)("p",{className:N.a.error,children:_})]}),Object(f.jsxs)("div",{className:N.a.actions,children:[Object(f.jsx)("div",{children:h?Object(f.jsx)("p",{children:"Sending request..."}):Object(f.jsx)("button",{children:o?"Login":"Create Account"})}),Object(f.jsx)("button",{type:"button",className:N.a.toggle,onClick:function(){w(void 0),j((function(e){return!e}))},disabled:h,children:o?"Create new account":"Login with existing account"})]})]})]})},F=function(){return Object(f.jsx)(S,{})},C=n(18),T=n(47),I=Object(T.a)({apiKey:"AIzaSyCBbDpZUJIt2h0p1LRK38enb8wrpZPkpQE",authDomain:"yarovoy-d.firebaseapp.com",databaseURL:"https://yarovoy-d-default-rtdb.firebaseio.com",projectId:"yarovoy-d",storageBucket:"yarovoy-d.appspot.com",messagingSenderId:"176286184164",appId:"1:176286184164:web:cea01b0d6a98b7741bf2f1",measurementId:"G-3FYX89CE49"}),D=Object(C.c)(I),P=n(48),L=n.n(P),U=function(){return Object(f.jsx)(L.a,{color:"#38015c",loading:!0,size:150})},E=n(29),A=n.n(E),q=function(e){var t=e.data,n=t.email,r=t.date,a=t.description,c=t.imageUrl;return Object(f.jsxs)("li",{className:A.a.content,children:[Object(f.jsx)("div",{className:A.a.header,children:Object(f.jsx)("p",{className:A.a.creationDate,children:r})}),Object(f.jsx)("div",{className:A.a.image,children:Object(f.jsx)("img",{src:c,alt:"dog"})}),Object(f.jsxs)("div",{className:A.a.footer,children:[Object(f.jsx)("p",{children:a}),Object(f.jsxs)("p",{className:A.a.creator,children:[Object(f.jsx)("span",{children:"Created by:"}),"\xa0",n]})]})]})},B=n(43),z=n.n(B),J=function(e){var t=e.tabs;return t.length?Object(f.jsx)("ul",{className:z.a.table,children:t.map((function(e){return Object(f.jsx)(q,{data:e},e.id)}))}):Object(f.jsx)("p",{className:z.a.noItems,children:"No items yet. You can add some!"})},M=n(34),R=n.n(M),W=function(){var e=Object(l.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(C.d)(D),e.abrupt("return",Object(C.b)(Object(C.a)(t,"/posts/")).then((function(e){return e.exists()?Object.values(e.val()):[]})).catch((function(e){console.error(e)})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(i.useState)([]),t=Object(O.a)(e,2),n=t[0],r=t[1],a=Object(i.useState)(!0),s=Object(O.a)(a,2),o=s[0],u=s[1],j=function(){var e=Object(l.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:t=e.sent,r(t),u(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){j()}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("section",{className:R.a.starting,children:[Object(f.jsx)("h1",{children:"Welcome on Board! Woof woof.."}),Object(f.jsx)(c.b,{to:"/new",className:R.a.button,children:"Create new Doggie Tab"})]}),o&&Object(f.jsx)("div",{className:R.a.spinner,children:Object(f.jsx)(U,{})}),!o&&Object(f.jsx)("section",{className:R.a.main,children:Object(f.jsx)(J,{tabs:n})})]})},X=function(){return Object(f.jsx)(Y,{})},Z=n.p+"static/media/no-image.ebbc7b17.png",G=function(){var e=Object(l.a)(b.a.mark((function e(){var t,n,r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://dog.ceo/api/breeds/list/all");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,r=n.message,a=n.status,e.abrupt("return",{message:r,status:a});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(l.a)(b.a.mark((function e(t){var n,r,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://dog.ceo/api/breed/"+t+"/images/random");case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,a=r.message,c=r.status,e.abrupt("return",{message:a,status:c});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=n(20),K=n.n(H),Q="Select breed",$=function(){var e=Object(l.a)(b.a.mark((function e(t){var n,r,a,c,s,i,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.id,a=t.imageUrl,c=t.description,s=t.date,i=t.uid,(o={})["/posts/"+r]={imageUrl:a,email:n,id:r,description:c,date:s,uid:i},e.next=6,Object(C.e)(Object(C.d)(D),o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(i.useState)([]),t=Object(O.a)(e,2),n=t[0],r=t[1],a=Object(i.useState)(Q),c=Object(O.a)(a,2),s=c[0],o=c[1],j=Object(i.useState)(Z),d=Object(O.a)(j,2),p=d[0],h=d[1],m=Object(i.useState)(""),v=Object(O.a)(m,2),g=v[0],_=v[1],w=Object(u.f)(),N=Object(i.useContext)(x).user,y=function(){var e=Object(l.a)(b.a.mark((function e(t){var n,r,a,c=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:void 0,e.next=3,V(n||s);case 3:r=e.sent,a=r.message,"success"===r.status&&h(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={year:"numeric",month:"long",day:"numeric"},n=(new Date).toLocaleDateString("en-US",t),e.prev=2,e.next=5,$({email:N.email,id:""+Math.floor(1e6*Math.random())+1,uid:N.uid,date:n,imageUrl:p,description:g});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:w("/");case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:t=e.sent,n=t.message,"success"===t.status&&r(Object.keys(n));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){S()}),[]),Object(f.jsxs)("div",{className:K.a.wrapper,children:[Object(f.jsx)("section",{className:K.a.starting,children:Object(f.jsx)("h1",{children:"Create your own Doggie!"})}),Object(f.jsx)("section",{className:K.a.main,children:Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),k()},children:[Object(f.jsxs)("div",{className:K.a.form,children:[Object(f.jsxs)("div",{className:K.a.description,children:[Object(f.jsx)("h2",{className:K.a.subtitle,children:"Describe your dog in a few words"}),Object(f.jsx)("textarea",{required:!0,value:g,onChange:function(e){_(e.target.value)}})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{className:K.a.subtitle,children:"Select dog breed and randomize an image"}),Object(f.jsxs)("select",{className:K.a.select,value:s,onChange:function(e){o(e.target.value),y(null,e.target.value)},children:[Object(f.jsx)("option",{disabled:!0,value:Q,children:Q}),n.map((function(e){return Object(f.jsx)("option",{value:e,children:e.toUpperCase()},e)}))]}),Object(f.jsx)("button",{disabled:s===Q,onClick:y,className:K.a.button,type:"button",children:"Randomize image"}),Object(f.jsx)("div",{className:K.a.image,children:Object(f.jsx)("img",{src:p,alt:"dog"})})]})]}),Object(f.jsx)("div",{className:K.a.submit,children:Object(f.jsx)("button",{type:"submit",className:K.a.button,children:"Submit Form"})})]})})]})},te=function(){return Object(f.jsx)(ee,{})},ne=n(39),re=n.n(ne),ae=function(){var e=Object(l.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(C.d)(D),e.abrupt("return",Object(C.b)(Object(C.a)(n,"/posts/")).then((function(e){return e.exists()?Object.values(e.val()).filter((function(e){return e.uid===t})):[]})).catch((function(e){console.error(e)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(i.useState)([]),t=Object(O.a)(e,2),n=t[0],r=t[1],a=Object(i.useState)(!0),c=Object(O.a)(a,2),s=c[0],o=c[1],u=Object(i.useContext)(x).user,j=Object(i.useCallback)(Object(l.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(u.uid);case 2:t=e.sent,r(t),o(!1);case 5:case"end":return e.stop()}}),e)}))),[r,u.uid]);return Object(i.useEffect)((function(){j()}),[j]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("section",{className:re.a.profile,children:[Object(f.jsx)("h1",{children:"Your User Profile"}),Object(f.jsxs)("h2",{children:["Welcome back, \xa0",Object(f.jsx)("span",{children:u.email})]}),Object(f.jsx)("h2",{children:"Doggies created by you:"})]}),Object(f.jsxs)("section",{className:re.a.main,children:[s&&Object(f.jsx)("div",{className:re.a.spinner,children:Object(f.jsx)(U,{})}),!s&&Object(f.jsx)(J,{tabs:n})]})]})},se=function(){return Object(f.jsx)(ce,{})},ie=n(49),oe=n.n(ie),ue=function(){return Object(f.jsx)("div",{className:oe.a.wrapper,children:Object(f.jsx)(U,{})})},je=function(){return Object(f.jsx)(ue,{})};var be=function(){var e=Object(i.useContext)(x),t=e.isLoggedIn,n=e.login,r=e.logout;return Object(i.useEffect)((function(){var e=Object(s.b)();Object(s.c)(e,(function(e){e?n(e):r()}))}),[n,r]),void 0===t?Object(f.jsx)(je,{}):Object(f.jsx)(_,{children:Object(f.jsxs)(u.c,{children:[Object(f.jsx)(u.a,{path:"/",element:Object(f.jsx)(X,{})}),!t&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(u.a,{path:"/auth",element:Object(f.jsx)(F,{})}),Object(f.jsx)(u.a,{path:"/new",element:Object(f.jsx)(F,{})})]}),t&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(u.a,{path:"/new",element:Object(f.jsx)(te,{})}),Object(f.jsx)(u.a,{path:"/profile",element:Object(f.jsx)(se,{})})]}),Object(f.jsx)(u.a,{path:"*",element:Object(f.jsx)(X,{})})]})})};n(67);a.a.render(Object(f.jsx)(m,{children:Object(f.jsx)(c.a,{children:Object(f.jsx)(be,{})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.532bb2a3.chunk.js.map